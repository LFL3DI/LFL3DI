<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <title>LFL3D output</title>

        <link rel="stylesheet" href="css/spectre.min.css">
        <link rel="stylesheet" href="css/spectre-exp.min.css">
        <link rel="stylesheet" href="css/spectre-icons.min.css">
        <link rel="stylesheet" href="css/loading.css">

        <style>
            .tau-logo {
                height: 40px;
                bottom: 0;
                right: 0;
                margin: 20px;
                z-index: 110;
            }

            .splash-screen {
                height: 100vh;
                width: 100vw;
                background: black;
                z-index: 100;
                align-items: center;
                justify-content: center;
            }
        </style>

    </head>

  <body>
    <div id='app'>
        <div id="mode-buttons" class="p-absolute" style="
            z-index: 95;
            left: 20px;
            top: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            background: white;
            padding: 12px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        ">
            <div class="form-switch-container">
                Stop &lt;---&gt; Start
                <label for="recording" class="form-switch">
                    <input type="checkbox" id="recording">
                    <i class="form-icon"></i> 
                </label>
            </div>
            <div class="form-switch-container">
                Manual &lt;---&gt; Trigger-based
                <label for="continuous" class="form-switch">
                    <input type="checkbox" id="continuous"> 
                    <i class="form-icon"></i>
                </label>
            </div>
            <div class="form-group">
                <label for="objectType">Trigger Object:</label>
                <select id="objectType" class="form-select" disabled>
                    <option value="person">Person</option>
                    <option value="hand">Hand</option>
                    <option value="rectangle">Rectangle</option>
                    <option value="circle">Circle</option>
                </select>
            </div>
        </div>
        <div id="pip" class="p-absolute m-2" style="max-width: 1600px; z-index: 90; right:0px">
            <div class="card m-2">
                <div class="card-header">
                    <!-- <div class="card-title h5">Depth</div> -->
                    <div class="card-subtitle">Data output</div>
                </div>
                <div class="card-image">
                  <img id="amplitudeView" src="" class="img-responsive" style="width: 100%;">
                </div>
            </div>
            <div class="card m-2" style="max-width: 1600px; z-index: 80;">
                <div class="card-header">
                <div class="card-title h5">Objects</div>
                </div>
                <div class="card-body">
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th>Object Index</th>
                        <th>Timestamp</th>
                        <th>Label</th>
                        <th>Confidence</th>
                        <th>X</th>
                        <th>Y</th>
                        <th>Z(distance)</th>
                        <th>Angle</th>
                    </tr>
                    </thead>
                    <tbody id="detectionTableBody">
                    </tbody>
                </table>
                </div>
            </div>
            
        </div>
    </div>

    <script>
        let wsHost = window.location.hostname;
        window.ws = new WebSocket("ws://192.168.1.102:5678/")
        // ws.sendObj = function(data) {
        //     this.send(JSON.stringify(data))
        // }

        // Enable the trigger object dropdown only when in "trigger-based" mode
        document.getElementById("continuous").addEventListener("change", function () {
            const objectTypeDropdown = document.getElementById("objectType");
            objectTypeDropdown.disabled = !this.checked;
        });
    </script>

    <script type="module" src="js/app.js" ></script>


    </body>
</html>